
&НаКлиенте
Процедура РазбитьпотоварамПриИзменении(Элемент)
	// Вставить содержимое обработчика.    
	
	
	Если Объект.Разбитьпотоварам Тогда
		Элементы.РасшифровкаПокупки.Видимость=Истина;
		Элементы.Сумма.Видимость = Ложь;
	иначе элементы.РасшифровкаПокупки.Видимость=Ложь;
		  Элементы.Сумма.Видимость = Истина;
	конецесли;
	
	
		
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	// Вставить содержимое обработчика.                 
	
		
	Если Объект.Разбитьпотоварам Тогда
		Элементы.РасшифровкаПокупки.Видимость=Истина;
	иначе элементы.РасшифровкаПокупки.Видимость=Ложь;
	конецесли;

КонецПроцедуры

&НаКлиенте
Процедура РасшифровкаПокупкиЦенаПриИзменении(Элемент)
	// Вставить содержимое обработчика
	
	ТекущиеДанные = Элементы.РасшифровкаПокупки.ТекущиеДанные;
	//Элементы.РасшифровкаПокупки
	
	ТекущиеДанные.Сумма = ТекущиеДанные.Цена * ТекущиеДанные.Сумма;
	
	
	
	
КонецПроцедуры

&НаКлиенте
Процедура РасшифровкаПокупкиПриИзменении(Элемент)
	// Вставить содержимое обработчика.
	РасчитатьСуммуВТекущейСтроке();

КонецПроцедуры


&НаКлиенте
Процедура РасчитатьСуммуВТекущейСтроке()
	// Вставить содержимое обработчика.
	
	ТекущиеДанные = Элементы.РасшифровкаПокупки.ТекущиеДанные;
	ТекущиеДанные.Сумма = ТекущиеДанные.Цена * ТекущиеДанные.Количество;
    Объект.Сумма = Объект.РасшифровкаПокупки.Итог("Сумма")
	
	
КонецПроцедуры

&НаКлиенте
Процедура РасшифровкаПокупкиКоличествоПриИзменении(Элемент)
	РасчитатьСуммуВТекущейСтроке() ;
	
	
КонецПроцедуры

&НаКлиенте
Процедура РасшифровкаПокупкиСуммаПриИзменении(Элемент)
	// Вставить содержимое обработчика.              
	
	ТекущиеДанные = Элементы.РасшифровкаПокупки.ТекущиеДанные;

	Если ТекущиеДанные.Количество = 0 Тогда
		ТекущиеДанные.Количество = 1 ;
	КонецЕсли;
	
    ТекущиеДанные.Цена = ТекущиеДанные.Сумма/ТекущиеДанные.Количество;
				
				
	
КонецПроцедуры
